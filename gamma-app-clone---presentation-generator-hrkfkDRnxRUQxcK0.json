{"createdAt":"2025-11-24T21:16:48.091Z","updatedAt":"2025-11-24T21:42:13.482Z","id":"hrkfkDRnxRUQxcK0","name":"Gamma App Clone - Presentation Generator","active":false,"isArchived":false,"nodes":[{"parameters":{"path":"generate-presentation","responseMode":"lastNode","options":{}},"id":"a9ce15d0-49d8-4cde-b6e7-1a50215d1d0d","name":"Webhook Trigger","type":"n8n-nodes-base.webhook","typeVersion":1,"position":[-1456,208],"webhookId":"eebd457b-4fa1-40e1-8583-81fca0e8a097"},{"parameters":{},"id":"33ffaa2d-2ec4-487f-91d3-01e5eebd0d09","name":"LLM - Content Generator","type":"n8n-nodes-base.openai","typeVersion":1,"position":[-1264,208],"credentials":{"openAiApi":{"id":null,"name":"OpenAI API"}}},{"parameters":{"jsCode":"// Parse LLM response\nconst responseText = $json.choices[0].message.content;\nconst jsonData = JSON.parse(responseText);\n\nreturn { \n  jsonData: jsonData,\n  raw_response: responseText\n};"},"id":"74c9d385-55b0-43f6-96a8-92a0bea39d64","name":"Parse JSON Response","type":"n8n-nodes-base.code","typeVersion":1,"position":[-1056,208]},{"parameters":{"jsCode":"// Extract all slides that need images\nconst jsonData = $json.jsonData;\nconst imageTasks = [];\n\njsonData.slides.forEach((slide, index) => {\n  if (slide.prompt_imagem && slide.prompt_imagem.trim() !== '') {\n    imageTasks.push({\n      slideIndex: index,\n      prompt: slide.prompt_imagem,\n      type: 'url_imagem'\n    });\n  }\n  \n  // For duas_colunas layout\n  if (slide.tipo_layout === 'duas_colunas') {\n    if (slide.coluna_esquerda?.prompt_imagem) {\n      imageTasks.push({\n        slideIndex: index,\n        prompt: slide.coluna_esquerda.prompt_imagem,\n        type: 'url_imagem_esquerda'\n      });\n    }\n    if (slide.coluna_direita?.prompt_imagem) {\n      imageTasks.push({\n        slideIndex: index,\n        prompt: slide.coluna_direita.prompt_imagem,\n        type: 'url_imagem_direita'\n      });\n    }\n  }\n});\n\nreturn {\n  jsonData: jsonData,\n  imageTasks: imageTasks,\n  totalImages: imageTasks.length\n};"},"id":"1f2f6727-69a6-4e1f-b6f3-0a0f6b00ccfe","name":"Extract Image Prompts","type":"n8n-nodes-base.code","typeVersion":1,"position":[-864,208]},{"parameters":{"values":{"string":[]},"options":{}},"id":"4967af70-823d-474c-848b-5be1bf98e12e","name":"Batch Image Generation","type":"n8n-nodes-base.set","typeVersion":1,"position":[-656,208]},{"parameters":{},"id":"5692a4c5-afa0-49e6-84c1-691c4ffb0044","name":"Loop - Generate Images","type":"n8n-nodes-base.loop","typeVersion":1,"position":[-464,208]},{"parameters":{},"id":"66a05125-b688-4c98-b7f4-362eebf7a687","name":"DALL-E 3 - Generate Image","type":"n8n-nodes-base.openai","typeVersion":1,"position":[-256,208],"credentials":{"openAiApi":{"id":null,"name":"OpenAI API"}},"onError":"continueErrorHandling"},{"parameters":{"jsCode":"// Augment JSON with generated image URLs\nconst jsonData = $items[0].json.jsonData;\nconst allResults = $items.map(item => ({\n  slideIndex: item.json.slideIndex,\n  type: item.json.type,\n  url: item.json.data?.[0]?.url || null\n}));\n\nallResults.forEach(result => {\n  if (result.url && result.slideIndex !== undefined) {\n    const slide = jsonData.slides[result.slideIndex];\n    if (slide) {\n      if (result.type === 'url_imagem') {\n        slide.url_imagem = result.url;\n      } else if (result.type === 'url_imagem_esquerda') {\n        if (!slide.coluna_esquerda) slide.coluna_esquerda = {};\n        slide.coluna_esquerda.url_imagem = result.url;\n      } else if (result.type === 'url_imagem_direita') {\n        if (!slide.coluna_direita) slide.coluna_direita = {};\n        slide.coluna_direita.url_imagem = result.url;\n      }\n    }\n  }\n});\n\nreturn { jsonData: jsonData };"},"id":"3e187245-9c37-4a02-a9df-c5f8e55e0edd","name":"Augment JSON with Images","type":"n8n-nodes-base.code","typeVersion":1,"position":[-64,208]},{"parameters":{},"id":"2b94edb9-d1ac-421f-8694-affcad54b40d","name":"Python - PPTX Generator","type":"n8n-nodes-base.pythonGeneric","typeVersion":1,"position":[144,208]},{"parameters":{},"id":"7d4139a9-8d5d-4733-8f20-d532555f9601","name":"Read PPTX File","type":"n8n-nodes-base.readBinaryFile","typeVersion":1,"position":[352,208]},{"parameters":{},"id":"305bf4f2-3e5e-41e5-bc3b-cea8d67f9f14","name":"Upload to S3","type":"n8n-nodes-base.awsS3","typeVersion":1,"position":[544,208],"credentials":{"aws":{"id":null,"name":"AWS Credentials"}},"onError":"continueErrorHandling"},{"parameters":{"options":{}},"id":"faf1132f-a750-4027-a1c2-b06f6477d603","name":"Webhook Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1,"position":[752,208]}],"connections":{},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"2e948bfd-56e5-45ce-86a4-8ec4acdd8f83","triggerCount":0,"shared":[{"createdAt":"2025-11-24T21:16:48.091Z","updatedAt":"2025-11-24T21:16:48.091Z","role":"workflow:owner","workflowId":"hrkfkDRnxRUQxcK0","projectId":"cHLAHCCuTHxRR7pJ"}],"tags":[]}